(function(){"use strict";var t={6302:function(t,o,n){var r=n(9242),a=n(3396),e=n(7139);const i={id:"nav"};function s(t,o,n,r,s,c){const u=(0,a.up)("router-link"),d=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",i,[(0,a.Wm)(u,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1}),(0,a.Uk)(" - "),(0,a.Wm)(u,{to:"/basket"},{default:(0,a.w5)((()=>[(0,a.Uk)("Shopping Bag ("+(0,e.zw)(this.productsInBag.length)+")",1)])),_:1})]),(0,a.Wm)(d)],64)}var c=n(65),u={created(){this.$store.dispatch("loadProducts"),this.$store.dispatch("loadBag")},computed:(0,c.rn)(["productsInBag"])},d=n(89);const l=(0,d.Z)(u,[["render",s]]);var g=l,p=n(2483);const m={class:"home"},f={class:"products"},v={class:"price"},h=["onClick"],B=["onClick"];function k(t,o,n,r,i,s){return(0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("div",f,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.products,((t,o)=>((0,a.wg)(),(0,a.iD)("div",{key:o,class:(0,e.C_)(["product",{inBag:s.isInBag(t)}])},[(0,a._)("div",{class:"product-image",style:(0,e.j5)({backgroundImage:"url("+t.image+")"})},null,4),(0,a._)("h4",null,(0,e.zw)(t.title),1),(0,a._)("p",v,"US$ "+(0,e.zw)(t.price.toFixed(2)),1),s.isInBag(t)?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"remove",onClick:o=>this.$store.dispatch("removeFromBag",t.id)},"Remove from bag",8,B)):((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:o=>s.addToBag(t)},"Add to bag",8,h))],2)))),128))])])}var w={name:"HomePage",data(){return{}},computed:(0,c.rn)(["products","productsInBag"]),methods:{addToBag(t){t.quantity=1,this.$store.dispatch("addToBag",t)},isInBag(t){return this.productsInBag.find((o=>o.id==t.id))}}};const y=(0,d.Z)(w,[["render",k]]);var b=y;const I={class:"basket"},_={class:"items"},O=["onClick"],C={class:"photo"},S=["src"],T={class:"description"},D={class:"price"},q={class:"quantity-area"},F=["disabled","onClick"],$={class:"quantity"},j=["onClick"],x={class:"amount"},z={class:"grand-total"},H={key:1};function P(t,o,n,r,i,s){return(0,a.wg)(),(0,a.iD)("div",I,[(0,a._)("div",_,[t.productsInBag.length?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.productsInBag,((t,o)=>((0,a.wg)(),(0,a.iD)("div",{key:o,class:"item"},[(0,a._)("div",{class:"remove",onClick:o=>this.$store.dispatch("removeFromBag",t.id)},"Remove item",8,O),(0,a._)("div",C,[(0,a._)("img",{src:t.image,alt:""},null,8,S)]),(0,a._)("div",T,(0,e.zw)(t.title),1),(0,a._)("div",D,[(0,a._)("span",q,[(0,a._)("button",{disabled:t.quantity<=1,onClick:o=>t.quantity--},"-",8,F),(0,a._)("span",$,(0,e.zw)(t.quantity),1),(0,a._)("button",{onClick:o=>t.quantity++},"+",8,j)]),(0,a._)("span",x,"US$ "+(0,e.zw)((t.price*t.quantity).toFixed(2)),1)])])))),128)),(0,a._)("div",z," Grand Total: US$ "+(0,e.zw)(s.orderTotal()),1)],64)):((0,a.wg)(),(0,a.iD)("h4",H,"No items in bag yet"))])])}var U={name:"ShoppingBasket",methods:{orderTotal(){var t=0;return this.productsInBag.forEach((o=>{t+=o.price*o.quantity})),t.toFixed(2)}},computed:(0,c.rn)(["productsInBag"])};const N=(0,d.Z)(U,[["render",P]]);var Y=N;const Z=[{path:"/",name:"Home",component:b},{path:"/basket",name:"Basket",component:Y}],J=(0,p.p7)({history:(0,p.r5)(),routes:Z});var W=J,A=(n(7658),n(4161)),E=(0,c.MT)({state:{products:[],productsInBag:[]},mutations:{loadProducts(t,o){t.products=o},loadBag(t,o){t.productsInBag=o},addToBag(t,o){t.productsInBag.push(o),localStorage.setItem("productsInBag",JSON.stringify(t.productsInBag))},removeFromBag(t,o){var n=t.productsInBag.filter((t=>o!=t.id));t.productsInBag=n,localStorage.setItem("productsInBag",JSON.stringify(t.productsInBag))}},actions:{loadProducts({commit:t}){A.Z.get("https://fakestoreapi.com/products").then((o=>{t("loadProducts",o.data)}))},loadBag({commit:t}){localStorage.getItem("productsInBag")&&t("loadBag",JSON.parse(localStorage.getItem("productsInBag")))},addToBag({commit:t},o){t("addToBag",o)},removeFromBag({commit:t},o){confirm("Are you sure you want to remove the item from bag?")&&t("removeFromBag",o)}},modules:{}});(0,r.ri)(g).use(E).use(W).mount("#app")}},o={};function n(r){var a=o[r];if(void 0!==a)return a.exports;var e=o[r]={exports:{}};return t[r](e,e.exports,n),e.exports}n.m=t,function(){var t=[];n.O=function(o,r,a,e){if(!r){var i=1/0;for(d=0;d<t.length;d++){r=t[d][0],a=t[d][1],e=t[d][2];for(var s=!0,c=0;c<r.length;c++)(!1&e||i>=e)&&Object.keys(n.O).every((function(t){return n.O[t](r[c])}))?r.splice(c--,1):(s=!1,e<i&&(i=e));if(s){t.splice(d--,1);var u=a();void 0!==u&&(o=u)}}return o}e=e||0;for(var d=t.length;d>0&&t[d-1][2]>e;d--)t[d]=t[d-1];t[d]=[r,a,e]}}(),function(){n.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(o,{a:o}),o}}(),function(){n.d=function(t,o){for(var r in o)n.o(o,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){var t={143:0};n.O.j=function(o){return 0===t[o]};var o=function(o,r){var a,e,i=r[0],s=r[1],c=r[2],u=0;if(i.some((function(o){return 0!==t[o]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var d=c(n)}for(o&&o(r);u<i.length;u++)e=i[u],n.o(t,e)&&t[e]&&t[e][0](),t[e]=0;return n.O(d)},r=self["webpackChunknew_shopping_bag"]=self["webpackChunknew_shopping_bag"]||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(6302)}));r=n.O(r)})();
//# sourceMappingURL=app.0ba86da5.js.map